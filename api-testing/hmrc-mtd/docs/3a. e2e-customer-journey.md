# End-to-end customer journey

The following end-to-end journey is for a Making Tax Digital for Income Tax customer with:
- self-employment income and expenses
- dividends income
- annual investment allowance
- business insurance adjustments

[Open the end-to-end customer journey diagram in a new tab.](#)

## Journey Steps

### Initial Setup and Obligations

1. **Customer creates digital records** for the new tax year

2. **Customer checks their obligations** for the tax year

3. **Software retrieves business information**
   - The software calls the **List All Businesses** endpoint to retrieve the business ID

4. **Software retrieves customer obligations**
   - The software uses the business ID to call the **Retrieve Income Tax (Self Assessment) Income and Expenditure Obligations** endpoint to retrieve the customer obligations

5. **HMRC processes obligations request**
   - HMRC receives the request and returns the obligations

6. **Software displays obligations**
   - The software displays the obligations

7. **Customer reviews obligations**
   - The customer views their obligations

### Quarter 1 Submission

8. **Software prepares Quarter 1 summary**
   - The software prepares summary of Quarter 1 income and expenses and displays it to the customer

9. **Customer reviews and initiates submission**
   - The customer reviews the information and begins their Quarter 1 submission process

10. **Software submits Quarter 1 data**
    - The software submits the information by calling the **Create a Self-Employment Period Summary** endpoint

11. **HMRC processes submission**
    - HMRC receives the submission and updates records marks the quarterly update 1 obligation as fulfilled if it satisfies all criteria

12. **Software displays confirmation**
    - The software displays the confirmation that the update has been received and stored by HMRC

13. **Customer views confirmation**
    - The customer views the confirmation

### Remaining Quarterly Submissions

14. **Complete remaining quarters**
    - The customer makes Quarter 2, 3 and 4 submissions (same steps as Quarter 1) and can choose to request in-year tax calculations

### Annual Investment Allowance Submission

15. **Customer initiates allowance submission**
    - The customer begins the submission of their annual investment allowance

16. **Software submits allowances**
    - The software calls the **Create and Amend Self-Employment Annual Submission** endpoint to submit the allowances

17. **HMRC processes allowances**
    - HMRC receives the allowances and updates records

18. **Software displays confirmation**
    - The software displays the confirmation of the update

19. **Customer views confirmation**
    - The customer views the confirmation

### Business Insurance Adjustments

20. **Customer needs accounting adjustment**
    - The customer needs to make an accounting adjustment for their business insurance adjustment

21. **Customer initiates adjustment submission**
    - The customer begins submission of their adjustments to HMRC

22. **Software triggers BSAS calculation**
    - The software calls the **Trigger a Business Source Adjustable Summary** endpoint for the relevant business ID

23. **HMRC returns calculation ID**
    - HMRC receives the request and returns a calculation ID

24. **Software submits adjustments**
    - The software uses the calculation ID to call the **Submit Self-Employment Accounting Adjustments** endpoint to submit the adjustments

25. **HMRC processes adjustments**
    - HMRC receives the adjustments and updates records

26. **Software displays confirmation**
    - The software displays the confirmation of the update

27. **Customer views confirmation**
    - The customer views the confirmation

### Dividends Income Submission

28. **Customer initiates dividends submission**
    - The customer begins the submission of their dividends income

29. **Software submits dividends data**
    - The software calls the **Create and Amend Dividends Income** endpoint to submit their dividends income

30. **HMRC processes dividends submission**
    - HMRC receives the submission and updates records

31. **Software displays confirmation**
    - The software displays the confirmation of the update

32. **Customer views confirmation**
    - The customer views the confirmation

### Final Declaration Process

33. **Customer ready for final declaration**
    - The customer is ready to make their final declaration

34. **Software triggers final calculation**
    - The software calls the **Trigger a Self Assessment Tax Calculation** endpoint with `finalDeclaration` parameter value `true`

35. **HMRC initiates calculation**
    - HMRC receives the request, starts tax calculation and returns calculation ID

36. **HMRC generates final calculation**
    - HMRC generates final declaration tax calculation (converts any business validation warnings into errors)

37. **Software receives calculation ID**
    - The software receives calculation ID

38. **Software retrieves calculation results**
    - The software calls the **Retrieve A Self Assessment Tax Calculation** endpoint using calculation ID

39. **HMRC returns calculation**
    - HMRC returns the tax calculation with the requested calculation ID

40. **Software receives results**
    - The software receives tax calculation results if call is successful (if there are errors, it cannot be viewed)

41. **Customer reviews final calculation**
    - The customer views final tax calculation results

42. **Customer confirms declaration**
    - The customer reviews and confirms the calculation and declaration text

43. **Software submits final declaration**
    - The software receives confirmation and calls the **Submit a Self Assessment Final Declaration** endpoint to confirm calculation

44. **HMRC processes final declaration**
    - HMRC receives the submission and marks the final declaration obligation as fulfilled

45. **Software displays final confirmation**
    - The software displays the confirmation of the submission (HMRC does not do this)

46. **Customer views completion confirmation**
    - The customer views confirmation that the return has been submitted successfully to HMRC

## Journey Summary

This end-to-end journey demonstrates the complete Making Tax Digital for Income Tax process from initial record creation through final declaration submission, including:

- **Quarterly submissions** (4 quarters of self-employment data)
- **Annual allowances** (investment allowance submission)
- **Accounting adjustments** (business insurance adjustments via BSAS)
- **Additional income sources** (dividends income)
- **Final declaration** (complete tax calculation and submission)

Each step involves appropriate API calls, HMRC processing, and customer confirmation workflows to ensure compliance with Making Tax Digital requirements.